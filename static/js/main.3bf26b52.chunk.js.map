{"version":3,"sources":["components/DisplayComponent.js","components/BtnComponent.js","App.js","index.js"],"names":["DisplayComponent","time","Math","floor","slice","BtnComponent","start","wait","stop","reset","status","className","onClick","App","useState","setTime","watchOn","setWatchOn","setStatus","waitBtn","document","getElementsByClassName","click$","fromEvent","doubleClick$","pipe","buffer","debounceTime","map","list","length","filter","x","useEffect","unsubscribe","Subject","interval","takeUntil","subscribe","val","next","complete","prevState","console","log","ReactDOM","render","StrictMode","getElementById"],"mappings":"qRAaeA,MAXf,YAAqC,IAATC,EAAQ,EAARA,KAC1B,OACE,gCACE,gCAAQ,IAAMC,KAAKC,MAAOF,EAAI,KAAuB,KAAKG,OAAO,KADnE,YAEE,gCAAQ,IAAMF,KAAKC,MAAMF,EAAO,MAAOG,OAAO,KAFhD,YAGE,gCAAQ,IAAMF,KAAKC,MAAOF,EAAO,IAAO,KAAKG,OAAO,SCiC3CC,MAtCf,YAA4D,IAApCC,EAAmC,EAAnCA,MAAOC,EAA4B,EAA5BA,KAAMC,EAAsB,EAAtBA,KAAMC,EAAgB,EAAhBA,MAAOC,EAAS,EAATA,OAChD,OACI,gCACiB,IAAXA,EACE,wBAAQC,UAAU,kCACVC,QAASN,EADjB,mBACyC,GAGhC,IAAXI,EACE,gCACI,wBAAQC,UAAU,kCACVC,QAASJ,EADjB,kBAGA,wBAAQG,UAAU,uCACVC,QAASL,EADjB,kBAGA,wBAAQI,UAAU,kCACVC,QAASH,EADjB,sBAEK,GAGA,IAAXC,EACE,gCACI,wBAAQC,UAAU,kCACVC,QAASN,EADjB,mBAGA,wBAAQK,UAAU,uCACVC,QAASL,EADjB,kBAGA,wBAAQI,UAAU,kCACVC,QAASH,EADjB,sBAEK,OCiERI,MAzFf,WAAgB,IAAD,EAEWC,mBAAS,GAFpB,mBAENb,EAFM,KAEAc,EAFA,OAGiBD,oBAAS,GAH1B,mBAGNE,EAHM,KAGGC,EAHH,OAIeH,mBAAS,GAJxB,mBAINJ,EAJM,KAIEQ,EAJF,KAKPC,EAAUC,SAASC,uBAAuB,QAC1CC,EAASC,YAAUJ,EAAS,SAE5BK,EAAeF,EAAOG,KACxBC,YACIJ,EAAOG,KAAKE,YAAa,OAE7BC,aAAI,SAAAC,GACF,OAAOA,EAAKC,UAEdC,aAAO,SAAAC,GAAC,OAAU,IAANA,MAmDhB,OAhDAC,qBAAU,WAER,IAAMC,EAAc,IAAIC,IAQxB,OAPAC,YAAS,IACJX,KAAKY,YAAUH,IACfI,WAAU,WACLtB,GACFD,GAAQ,SAAAwB,GAAG,OAAIA,EAAM,QAGtB,WACLL,EAAYM,OACZN,EAAYO,cAEb,CAACzB,IAmCF,qBAAKL,UAAU,MAAf,SACE,qBAAKA,UAAU,eAAf,SACE,sBAAKA,UAAU,eAAf,UACE,qBAAKA,UAAU,YAAf,uBACA,sBAAKA,UAAU,YAAf,UACE,cAAC,EAAD,CACIV,KAAMA,IAEV,cAAC,EAAD,CACIK,MAzCM,WAClBW,GAAW,SAAAyB,GAAS,OAAKA,KACzBxB,EAAU,IAwCEX,KAhCK,WAEjBiB,EAAac,WAAU,WACrBK,QAAQC,IAAI,eAEG,IAAT3C,GACFgB,GAAW,GAEbC,EAAU,OAyBFV,KAlBK,WACjBO,EAAQ,GACRE,GAAW,GACXC,EAAU,IAgBET,MAvCM,WAClBM,EAAQ,GACRE,GAAW,IAsCCP,OAAQA,eCrFxBmC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEF3B,SAAS4B,eAAe,W","file":"static/js/main.3bf26b52.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nfunction DisplayComponent({ time }) {\r\n  return (\r\n    <div>\r\n      <span>{('0' + Math.floor((time / (1000 * 60 * 60)) % 24)).slice(-2)}</span>&nbsp;:&nbsp;\r\n      <span>{('0' + Math.floor(time / 6000)).slice(-2)}</span>&nbsp;:&nbsp;\r\n      <span>{('0' + Math.floor((time / 100) % 60)).slice(-2)}</span>\r\n      {/*<span>{('0' + Math.floor(time % 100)).slice(-2)}</span>*/}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default DisplayComponent;\r\n","import React from 'react';\r\n\r\nfunction BtnComponent({ start, wait, stop, reset, status}) {\r\n  return (\r\n      <div>\r\n          {(status === 0) ?\r\n              <button className=\"stopwatch-btn stopwatch-btn-blu\"\r\n                      onClick={start}>Start</button> : \"\"\r\n          }\r\n\r\n          {(status === 1) ?\r\n              <div>\r\n                  <button className=\"stopwatch-btn stopwatch-btn-red\"\r\n                          onClick={stop}>Stop</button>\r\n\r\n                  <button className=\"stopwatch-btn wait stopwatch-btn-yel\"\r\n                          onClick={wait} >Wait</button>\r\n\r\n                  <button className=\"stopwatch-btn stopwatch-btn-grn\"\r\n                          onClick={reset}>Reset</button>\r\n              </div> : \"\"\r\n          }\r\n\r\n          {(status === 2) ?\r\n              <div>\r\n                  <button className=\"stopwatch-btn stopwatch-btn-blu\"\r\n                          onClick={start}>Start</button>\r\n\r\n                  <button className=\"stopwatch-btn wait stopwatch-btn-yel\"\r\n                          onClick={wait}>Wait</button>\r\n\r\n                  <button className=\"stopwatch-btn stopwatch-btn-grn\"\r\n                          onClick={reset}>Reset</button>\r\n              </div> : \"\"\r\n          }\r\n\r\n      </div>\r\n  );\r\n}\r\n\r\nexport default BtnComponent;\r\n","import './App.css';\r\nimport React, {useState, useEffect, useRef} from 'react';\r\nimport {fromEvent, interval, Subject} from \"rxjs\";\r\nimport {buffer, debounceTime, filter, map, takeUntil} from \"rxjs/operators\";\r\n\r\nimport DisplayComponent from './components/DisplayComponent';\r\nimport BtnComponent from './components/BtnComponent';\r\n\r\n\r\nfunction App() {\r\n\r\n  const [time, setTime] = useState(0);\r\n  const [watchOn, setWatchOn] = useState(false);\r\n  const [status, setStatus] = useState(0);\r\n  const waitBtn = document.getElementsByClassName('wait')\r\n  const click$ = fromEvent(waitBtn, 'click')\r\n\r\n  const doubleClick$ = click$.pipe(\r\n      buffer(\r\n          click$.pipe(debounceTime(300))\r\n      ),\r\n      map(list => {\r\n        return list.length;\r\n      }),\r\n      filter(x => x === 2),\r\n  )\r\n\r\n  useEffect(() => {\r\n\r\n    const unsubscribe = new Subject();\r\n    interval(10)\r\n        .pipe(takeUntil(unsubscribe))\r\n        .subscribe(() => {\r\n          if (watchOn) {\r\n            setTime(val => val + 1);\r\n          }\r\n        });\r\n    return () => {\r\n      unsubscribe.next();\r\n      unsubscribe.complete();\r\n    };\r\n  }, [watchOn]);\r\n\r\n\r\n  const handleStart = () => {\r\n    setWatchOn(prevState => !prevState);\r\n    setStatus(1);\r\n  }\r\n\r\n  const handleReset = () => {\r\n    setTime(0);\r\n    setWatchOn(true)\r\n  }\r\n\r\n  const handleWait = () => {\r\n\r\n    doubleClick$.subscribe(()=>{\r\n      console.log('doubleclick');\r\n\r\n        if (time !== 0) {\r\n          setWatchOn(false);\r\n        }\r\n        setStatus(2);\r\n\r\n    })\r\n  }\r\n\r\n\r\n\r\n  const handleStop = () => {\r\n    setTime(0);\r\n    setWatchOn(false);\r\n    setStatus(0);\r\n  }\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <div className='main-section'>\r\n        <div className='clock-holder'>\r\n          <div className='app-title'>Stopwatch</div>\r\n          <div className='stopwatch'>\r\n            <DisplayComponent\r\n                time={time}\r\n            />\r\n            <BtnComponent\r\n                start={handleStart}\r\n                wait={handleWait}\r\n                stop={handleStop}\r\n                reset={handleReset}\r\n                status={status}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}